<!DOCTYPE html>
<html>
<head>
    <title>Session Storage Test</title>
</head>
<body>
    <h1>Session Storage Test</h1>
    <button onclick="testSessionStorage()">Test Session Storage</button>
    <div id="result"></div>

    <script>
        function testSessionStorage() {
            try {
                // Test basic session storage functionality
                sessionStorage.setItem('test-key', 'test-value');
                const value = sessionStorage.getItem('test-key');
                
                const result = document.getElementById('result');
                if (value === 'test-value') {
                    result.innerHTML = '<p style="color: green;">Session Storage is working!</p>';
                    
                    // Test our app key
                    const appData = sessionStorage.getItem('booth-payment-app-state');
                    if (appData) {
                        result.innerHTML += '<p style="color: blue;">App data found in session storage!</p>';
                        result.innerHTML += '<pre>' + appData + '</pre>';
                    } else {
                        result.innerHTML += '<p style="color: orange;">No app data found in session storage.</p>';
                    }
                } else {
                    result.innerHTML = '<p style="color: red;">Session Storage test failed!</p>';
                }
            } catch (error) {
                document.getElementById('result').innerHTML = '<p style="color: red;">Error: ' + error.message + '</p>';
            }
        }
        
        // Test on page load
        window.onload = function() {
            testSessionStorage();
        };
    </script>
</body>
</html>